"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89077],{705533:(e,t,n)=>{var l;n.r(t),n.d(t,{default:()=>s});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="06530ceab8fc1bb7b5d868c8ffeb2afd";let s=i},343902:(e,t,n)=>{n.d(t,{N:()=>a,Z:()=>s});var l=n(883119),i=n(785893);function s({children:e,fullWidth:t}){return(0,i.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:e})}function a({children:e,enabled:t}){return t?(0,i.jsx)(s,{children:e}):e}},259866:(e,t,n)=>{n.d(t,{Z:()=>l});function l(e){return function e(t,n){let l;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let i=n.find(e=>e.value===t);if(i)return i.result;let s=Object.prototype.toString.call(t);switch(s){case"[object Array]":l=Array(t.length);break;case"[object Set]":l=new Set;break;case"[object Object]":case"[object Arguments]":l={};break;case"[object Map]":l=new Map;break;default:return t}let a=[...n,{value:t,result:l}];switch(s){case"[object Array]":t.forEach((t,n)=>{l[n]=e(t,a)});break;case"[object Set]":t.forEach(t=>{l.add(e(t,a))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{l[t]=e(n,a)});break;case"[object Map]":t.forEach((t,n)=>{l.set(n,e(t,a))})}return l}(e,[])}},891162:(e,t,n)=>{n.d(t,{Q6:()=>u,ZP:()=>o,qe:()=>c,yU:()=>d});var l=n(520893);let i=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),s=e=>e;function a(e,t=i,n=s){return function(l){let i=[];return function(...s){let a=i.find(e=>t(e.args,n(s)));if(a)return a.result;let r=l(...s);return i.push({args:n(s),result:r}),e&&i.length>e&&i.shift(),r}}}let r=a(),o=r,c=a(1),d=a(void 0,i,e=>[JSON.stringify(e)]),u=a(0,(e,t)=>e.length===t.length&&e.every((e,n)=>(0,l.Z)(e,t[n])))},361747:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(883119),i=n(140017),s=n(785893);function a({height:e,isDenseView:t,rounding:n,width:a,color:r}){let o=(0,i.ZP)();return(0,s.jsx)(l.xu,{alignItems:"center",color:r||"default","data-test-id":"unavailable-pin",display:"flex",height:e,justifyContent:"center",overflow:"hidden",position:"relative",rounding:n,width:a,children:(0,s.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,s.jsx)(l.xu,{paddingY:t?2:4,children:(0,s.jsx)(l.JO,{accessibilityLabel:o._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,s.jsx)(l.xv,{weight:"bold",children:o._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,s.jsx)(l.xu,{paddingY:1,children:(0,s.jsx)(l.xv,{children:o._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},156032:(e,t,n)=>{n.d(t,{Z:()=>A});var l,i=n(667294);n(167912);var s=n(616550),a=n(883119),r=n(510989),o=n(207012),c=n(343902),d=n(608516),u=n(477458),h=n(149722),g=n(785893);let _=({signal:e,anchor:t,setShowFlyout:n,setStore:l})=>{let{hovered:i,onMouseEnter:s,onMouseLeave:r}=(0,u.Z)(),o=e=>{n(e=>!e),l(e)};return(0,g.jsx)(a.iP,{onMouseEnter:s,onMouseLeave:r,onTap:()=>o(e),rounding:"pill",children:(0,g.jsxs)(a.xu,{ref:t,alignItems:"center",color:i?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,g.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,g.jsx)(a.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,g.jsx)(a.Ee,{alt:"",color:e.backgroundColor??"",naturalHeight:1,naturalWidth:1,src:e.iconUrl??""})})}),(0,g.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:e.signalMessage})]})})};var p=n(107366),x=n(140017),f=n(13848),j=n(454514);function b(e){let t=(0,x.ZP)(),{onHide:n}=e,l=(0,g.jsx)(a.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,g.jsx)(j.ZP,{onHide:n,text:l})}let m=function({anchor:e,onDismiss:t,pinId:n,signal:l}){let i=(0,x.ZP)(),s=(0,h.Z)(),{showOneToast:r}=(0,f.F9)();if(!s.isEmployee)return null;let{backgroundColor:o,iconUrl:c,signalId:d,signalMessage:u}=l;return(0,g.jsx)(a.mh,{children:(0,g.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,g.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.X6,{size:"400",children:i._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,g.jsx)(a.xu,{paddingY:3,children:(0,g.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,g.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,g.jsx)(a.Ee,{alt:i._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:o??""}},height:40,width:40})}),(0,g.jsx)(a.xv,{size:"200",children:u})]})}),(0,g.jsx)(a.xu,{marginBottom:3,children:(0,g.jsx)(a.xv,{size:"200",children:i._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,g.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,g.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,p.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:d,user:s.id}}),t(),r(({hideToast:e})=>(0,g.jsx)(b,{onHide:e}))},size:"md",text:i._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,g.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:i._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function y({signals:e,pinId:t}){let[n,l]=(0,i.useState)(!1),s=(0,i.useRef)(null),[o,u]=(0,i.useState)(e[0]);return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:e.map(e=>(0,g.jsx)(a.xu,{marginEnd:2,children:(0,g.jsx)(_,{anchor:s,setShowFlyout:l,setStore:u,signal:e})},e.signalId))})})})})}),n&&(0,g.jsx)(m,{anchor:s.current,onDismiss:()=>l(!1),pinId:t,signal:o})]})}let v=function({anchor:e,onDismiss:t,pinId:n,signals:l}){let s=(0,x.ZP)(),[r,o]=(0,i.useState)(0),c=(0,h.Z)(),{showOneToast:d}=(0,f.F9)();if(!c.isEmployee)return null;let u=l.map(({signalMessage:e})=>({href:"#",text:e??""})),{backgroundColor:_,iconUrl:j,signalId:m,signalMessage:y}=l[r],v=({activeTabIndex:e})=>{o(e)};return(0,g.jsx)(a.mh,{children:(0,g.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,g.jsxs)(a.xu,{padding:4,width:"100%",children:[l.length>1&&(0,g.jsx)(a.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,g.jsx)(a.mQ,{activeTabIndex:r,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:n})=>{e.preventDefault(),n(),v({activeTabIndex:t})},tabs:u})}),(0,g.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(a.X6,{size:"400",children:s._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,g.jsx)(a.xu,{paddingY:3,children:(0,g.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,g.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:j?(0,g.jsx)(a.Ee,{alt:s._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:j}):(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:_??""}},height:40,width:40})}),(0,g.jsx)(a.xv,{size:"200",children:y})]})}),(0,g.jsx)(a.xu,{marginBottom:3,children:(0,g.jsx)(a.xv,{size:"200",children:s._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,g.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,g.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:()=>{(0,p.Z)({url:`/v3/pins/${n}/signal_request_review/`,method:"POST",data:{signal_id:m,user:c.id}}),t(),d(({hideToast:e})=>(0,g.jsx)(b,{onHide:e}))},size:"md",text:s._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,g.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:s._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})},P=void 0!==l?l:l=n(705533);function k({signals:e,pinId:t}){let{backgroundColor:n,iconUrl:l,signalMessage:s}=e[0],[o,h]=(0,i.useState)(!1),_=(0,i.useRef)();return(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(r.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,g.jsx)(d.Z,{children:(0,g.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(u.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:i})=>(0,g.jsx)(a.iP,{onMouseEnter:t,onMouseLeave:i,onTap:()=>h(e=>!e),rounding:"pill",children:(0,g.jsxs)(a.xu,{ref:_,alignItems:"center",color:e?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,g.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,g.jsx)(a.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,g.jsx)(a.Ee,{alt:"",color:n??"",naturalHeight:1,naturalWidth:1,src:l??""})})}),(0,g.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:s})]})})})})})})}),o&&_&&_.current&&(0,g.jsx)(v,{anchor:_.current,onDismiss:()=>h(!1),pinId:t,signals:e})]})}function A({pinKey:e}){let t=(0,o.Z)(P,e),n=(0,h.Z)(),{search:l}=(0,s.TH)(),a=(0,i.useMemo)(()=>new URLSearchParams(l),[l]);if(!n.isEmployee)return null;let{entityId:r,debAds:c,debContentQuality:d,debInclusiveProduct:u,debShopping:_,debTrustAndSafety:p}=t;if(c)return(0,g.jsx)(k,{pinId:r,signals:c});if(d)return(0,g.jsx)(k,{pinId:r,signals:d});if(u){if("skin_tone"===a.get("type")){let e=u.filter(e=>"visual_signals_hair_pattern_v1"!==e.signalId);return(0,g.jsx)(y,{pinId:r,signals:e})}{let e=u.filter(e=>"visual_body_analyses_v2_0"!==e.signalId);return(0,g.jsx)(y,{pinId:r,signals:e})}}return _?(0,g.jsx)(k,{pinId:r,signals:_}):p?(0,g.jsx)(k,{pinId:r,signals:p}):null}},923368:(e,t,n)=>{n.d(t,{Nb:()=>r,Of:()=>o,YO:()=>a,ZP:()=>u,x4:()=>d});var l=n(667294),i=n(891162),s=n(392029);let a=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:n})=>e&&t?n?s.Uj:s.zT:1,r=(0,i.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:l,viewportSize:i,maxWidth:s,descriptionPaneWidth:a,isCloseupRelatedPinsAboveTheFoldEnabled:r,isCommentThreadExpanded:o,isPinNoteExpanded:c,isProductDetailsExpanded:d,isShoppingModuleExpanded:u,setIsCommentThreadExpanded:h,setIsPinNoteExpanded:g,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:p,stackedCloseupEnabled:x,isInRemoveMagnifyingGlassVariant:f,setAbortNoActionPlacementTimeout:j})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:n,showProductDetailPage:l,viewportSize:i,maxWidth:s,descriptionPaneWidth:a,isCloseupRelatedPinsAboveTheFoldEnabled:r,isCommentThreadExpanded:o,isPinNoteExpanded:c,isProductDetailsExpanded:d,isShoppingModuleExpanded:u,setIsCommentThreadExpanded:h,setIsPinNoteExpanded:g,setIsProductDetailsExpanded:_,setIsShoppingModuleExpanded:p,stackedCloseupEnabled:x,isInRemoveMagnifyingGlassVariant:f,setAbortNoActionPlacementTimeout:j})),o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:s.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:s.u6,descriptionPaneWidth:s.u6-s.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsShoppingModuleExpanded:()=>{}},c=(0,l.createContext)(o);function d(){let e=(0,l.useContext)(c);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let u=c},392029:(e,t,n)=>{n.d(t,{$T:()=>j,CI:()=>s,Ch:()=>r,ER:()=>f,Gb:()=>o,Gg:()=>l,Ie:()=>g,J6:()=>h,KP:()=>_,Kn:()=>a,O5:()=>b,Uj:()=>c,YE:()=>m,bx:()=>p,cg:()=>y,d2:()=>u,g9:()=>x,iB:()=>P,rv:()=>v,u6:()=>i,zT:()=>d});let l=508,i=2*l,s=488,a=992,r=672,o=1176,c=.6,d=.84,u=40,h=16,g=72,_=740,p=912,x=32,f=16,j=24,b=2,m=16,y=16,v=1,P={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/89077-1fbfb6e9a293c193.mjs.map